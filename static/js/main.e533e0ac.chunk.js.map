{"version":3,"sources":["config/constants/contracts.js","utils/contractHelper.js","utils/addressHelper.js","config/index.js","actions/emergencyWithdraw.js","contexts/web3Context.js","contexts/AddressContext.js","hooks/usePools.js","hooks/useContract.js","config/constants/explorers.js","utils/decimals.js","components/Pool.js","components/Pools.js","components/MasterchefSearch.js","hooks/useWeb3.js","App.js","reportWebVitals.js","index.js"],"names":["contracts","fetcher","getDefaultGasPrice","web3","chainId","toBN","utils","gasPrices","mul","pow","getContract","abi","address","undefined","eth","Contract","gasPrice","toString","getFetcherContract","fetcherAbi","getAddress","getFetcherAddress","getMasterchefContract","masterchefAddress","masterchefAbi","emergencyWithdraw","pid","a","masterchefContract","methods","send","from","currentProvider","selectedAddress","tx","wait","receipt","notification","open","message","status","console","error","Web3Context","createContext","AddressContext","usePools","useContext","useState","pools","setPools","userAddress","useMemo","useFetcher","useEffect","result","rawPools","start","interval","fetchPools","call","filter","pool","want","i","length","push","name","symbol","amount","depFee","decimals","isFallback","description","fetch","then","explorers","getAddressLink","formatBigNumberToFixed","bigNumber","displayDecimals","formattedString","formatUnits","toFixed","Pool","props","depositFee","onEmergencyWithdraw","decAmount","Item","Meta","avatar","src","title","target","rel","href","type","danger","onClick","customizeRenderEmpty","style","textAlign","ExperimentOutlined","fontSize","marginBottom","fontWeight","Pools","item","mc","doEmergencyWithdraw","orientation","renderEmpty","className","size","itemLayout","dataSource","renderItem","Search","Input","MasterchefSearch","onStart","placeholder","allowClear","enterButton","onSearch","providerOptions","walletconnect","package","WalletConnectProvider","options","infuraId","web3Modal","Web3Modal","cacheProvider","useWeb3","provider","setProvider","web3info","setWeb3Info","connect","provider_","Web3","net","getId","on","chainId_","log","networkId","info","App","setMasterchefAddress","setUserAddress","masterchefAddress_","Provider","value","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e533e0ac.chunk.js","sourcesContent":["// list of contracts\n// Fetcher: Helper contract that is essential for a chain to work. It fetches all the pool data and returns it in a single call\nconst contracts = {\n  fetcher: {\n    321: \"0x4fd9016c5ff784709e8CcF0f6E8aDd357803bf91\", // KCC\n    137: \"0x8ef5eB0522F8771286c7012abBFE7cDFC03A6b7d\", // Polygon\n    56: \"0xD19D7a09d444304f9A57f5297a2d6f684E430238\", // BSC\n  },\n};\n\nexport default contracts\n","import fetcherAbi from \"../config/abi/fetcher.json\";\nimport masterchefAbi from \"../config/abi/masterchef.json\";\nimport { getFetcherAddress } from \"./addressHelper\";\n\nexport const getDefaultGasPrice = (web3, chainId) => {\n  const toBN = web3.utils.toBN;\n  const gasPrices = {\n    56: toBN(5).mul(toBN(10).pow(toBN(9))),\n    137: toBN(1).mul(toBN(10).pow(toBN(9))),\n  };\n\n  return chainId in gasPrices ? gasPrices[chainId] : 0;\n};\nconst getContract = (abi, address, web3, chainId) => {\n  if (web3 === undefined) {\n    return undefined;\n  }\n  return new web3.eth.Contract(abi, address, {\n    gasPrice: getDefaultGasPrice(web3, chainId).toString(),\n  });\n};\n\nexport const getFetcherContract = (web3, chainId) => {\n  if (web3 === undefined || chainId === undefined) {\n    return undefined;\n  }\n  return getContract(\n    fetcherAbi,\n    getFetcherAddress(chainId, web3),\n    web3,\n    chainId\n  );\n};\n\nexport const getMasterchefContract = (web3, chainId, masterchefAddress) => {\n  if (\n    web3 === undefined ||\n    web3.eth === undefined ||\n    masterchefAddress == null\n  ) {\n    return undefined;\n  }\n  return getContract(masterchefAbi, masterchefAddress, web3, chainId);\n};\n","import { BSC_CHAIN_ID } from \"../config\";\nimport contracts from \"../config/constants/contracts\";\n\nexport const getAddress = (address, chainId) => {\n  return address[chainId] ? address[chainId] : address[BSC_CHAIN_ID];\n};\n\nexport const getFetcherAddress = (chainId) => {\n  return getAddress(contracts.fetcher, chainId);\n};\n\nexport const ZERO_ADDRESS = \"0x0000000000000000000000000000000000000000\";\n","export const BSC_CHAIN_ID = 56;\n","import { notification } from \"antd\"\nimport { getDefaultGasPrice, getMasterchefContract } from \"../utils/contractHelper\"\n\nconst emergencyWithdraw = (web3, chainId, masterchefAddress, pid) => {\n    return async () => {\n        try {\n            const masterchefContract = getMasterchefContract(web3, chainId, masterchefAddress)\n            const tx = await masterchefContract.methods.emergencyWithdraw(pid).send({\n                from: web3.currentProvider.selectedAddress,\n                gasPrice: getDefaultGasPrice(web3, chainId)\n            })\n            const receipt = await tx.wait()\n\n            notification.open({\n                message: 'Transaction Succeeded'\n            })\n            return receipt.status\n        } catch (e) {\n            console.error(e)\n            notification.open({\n                message: 'Transaction failed'\n            })\n        }\n    }\n}\nexport default emergencyWithdraw","// Context to share the masterchef address state between components\n\nimport { createContext } from \"react\";\n\nconst Web3Context = createContext();\n\nexport default Web3Context;\n","// Context to share the masterchef address state between components\n\nimport { createContext } from \"react\";\n\nconst AddressContext = createContext();\n\nexport default AddressContext;\n","import { notification } from \"antd\";\nimport { useContext, useEffect, useState } from \"react\"\nimport AddressContext from \"../contexts/AddressContext\";\nimport Web3Context from \"../contexts/web3Context\";\nimport { useFetcher } from \"./useContract\";\n\nconst usePools = () => {\n  const {web3, } = useContext(Web3Context)\n  const [pools, setPools] = useState()\n  const {masterchefAddress, userAddress} = useContext(AddressContext);\n  const fetcher = useFetcher();\n  useEffect(() => {\n    const fetch = async () => {\n      if (fetcher === undefined || web3 === undefined || masterchefAddress === undefined || userAddress === undefined) {\n        return []\n      }\n      let  result = []  \n      let rawPools = []\n      let start = 0\n      const interval = 10\n      try {\n      do {\n        rawPools = await fetcher.methods.fetchPools(masterchefAddress, userAddress, start, interval).call()\n        // Currently fetcher always returns 10 pools, filter out padding ones\n        rawPools = rawPools.filter(pool => pool.want !== \"0x0000000000000000000000000000000000000000\") \n        for(let i = 0; i < rawPools.length; i++) {\n          const pool = rawPools[i]\n          result.push({\n            \"name\": pool.name, \n            \"symbol\": pool.symbol, \n            \"amount\": pool.amount, \n            \"pid\": start + i, \n            \"want\": pool.want,\n            \"depositFee\": pool.depFee,\n            \"decimals\": pool.decimals,\n            \"isFallback\": pool.isFallback,\n            \"mc\": masterchefAddress})\n        }\n        start += interval\n        \n      } while(rawPools.length >= interval && start <= 200) // Give up after 200 pools\n    }catch(e){\n        console.error(e)\n        notification.open({\n          message: 'Unable to fetch masterchef',\n          description: 'Are you sure the address is correct?'\n        })\n    }\n      return result\n    }\n    fetch().then(pools => {\n      setPools(pools);\n    })\n  }, [masterchefAddress, userAddress, fetcher, web3])\n\n  return pools\n}\n\nexport default usePools","import { useContext, useMemo } from \"react\";\nimport Web3Context from \"../contexts/web3Context\";\nimport {\n  getFetcherContract,\n} from \"../utils/contractHelper\";\n\nexport const useFetcher = () => {\n  const { web3, chainId } = useContext(Web3Context);\n  return useMemo(() => getFetcherContract(web3, chainId), [web3, chainId]);\n};","// Utility methods to get explorer links\n\nexport const explorers = {\n      137: \"https://polygonscan.com\",\n      56: \"https://bscscan.com\",\n      321: \"https://explorer.kcc.io/en\",\n  };\nexport const getAddressLink = (chainId, address) => {\n    return explorers[chainId] + \"/address/\" + address\n}","\nimport { formatUnits } from 'ethers/lib/utils' // might be a bit much to import all of ethers for this\n\nexport const formatBigNumberToFixed = (bigNumber, displayDecimals = 18, decimals = 18) => {\n    const formattedString = formatUnits(bigNumber, decimals)\n    return (+formattedString).toFixed(displayDecimals)\n  }","import { Avatar, List, Button } from \"antd\";\nimport { getAddressLink } from \"../config/constants/explorers\";\nimport { formatBigNumberToFixed } from \"../utils/decimals\";\n\n// The pool component is an entry in the pools list that represents a masterchef pool\n// When the emergencyWithdraw button is pressed, the injected \"onEmergencyWithdraw\" method is called.\nfunction Pool(props) {\n  const { name, symbol, amount, pid, chainId, want, depositFee, decimals, isFallback, onEmergencyWithdraw } = props; // consider restructuring this\n  let decAmount = formatBigNumberToFixed(amount, decimals,decimals);\n  if (decAmount > 1){\n    decAmount = formatBigNumberToFixed(amount, 2,decimals);\n  } else if (decAmount > 0.1){\n    decAmount = formatBigNumberToFixed(amount, 3,decimals);\n  }else if (decAmount > 0.001){\n    decAmount = formatBigNumberToFixed(amount, 5,decimals);\n  }\n\n  return (\n    <List.Item>\n      <List.Item.Meta\n        avatar={\n          <Avatar src=\"https://cryptologos.cc/logos/binance-usd-busd-logo.svg?v=010\" />\n        }\n        \n        title={<a target=\"_blank\" rel=\"noreferrer\" href={getAddressLink(chainId,want)}>{name} - pid: {pid} [ {(isFallback ? \"??.??\" :formatBigNumberToFixed(depositFee, 2,2))+ \"%\"} ]</a>}\n        description={(amount === \"0\" ? \"0\" : decAmount) + \" \" + symbol}\n      />\n\n      <div>\n        {\" \"}\n        <Button type=\"primary\" danger onClick={onEmergencyWithdraw}>\n          Emergency Withdraw\n        </Button>\n      </div>\n    </List.Item>\n  );\n}\nexport default Pool;\n","import { List, Divider, ConfigProvider } from \"antd\";\nimport { useContext } from \"react\";\nimport emergencyWithdraw from \"../actions/emergencyWithdraw\";\nimport Web3Context from \"../contexts/web3Context\";\nimport usePools from \"../hooks/usePools\";\nimport { ExperimentOutlined } from '@ant-design/icons';\n\nimport Pool from \"./Pool\";\n\nconst customizeRenderEmpty = () => (\n  <div style={{ textAlign: 'center' }}>\n    <ExperimentOutlined style={{ fontSize: 70, marginBottom:\"40px\" }} />\n    <p style={{fontWeight: \"bold\"}}>Enter a masterchef address to get started</p>\n    <p>Make sure that you're connected to the correct network</p>\n  </div>\n);\n\n\nfunction Pools() {\n  const pools = usePools();\n  const { web3, chainId } = useContext(Web3Context);\n\n  const onEmergencyWithdraw = async (item) => {\n    const doEmergencyWithdraw = emergencyWithdraw(\n      web3,\n      chainId,\n      item.mc,\n      item.pid\n    );\n    doEmergencyWithdraw();\n  };\n  return (\n    <>\n      <Divider orientation=\"left\">Pools</Divider>\n\n      <ConfigProvider renderEmpty={customizeRenderEmpty}>\n        <List\n          className=\"demo-loadmore-list\"\n          size=\"large\"\n          itemLayout=\"horizontal\"\n          dataSource={pools}\n          renderItem={(item) => (\n            <Pool\n              name={item.name}\n              symbol={item.symbol}\n              amount={item.amount}\n              pid={item.pid}\n              chainId={chainId}\n              want={item.want}\n              depositFee={item.depositFee}\n              decimals={item.decimals}\n              isFallback={item.isFallback}\n              onEmergencyWithdraw={() => onEmergencyWithdraw(item)}\n            ></Pool>\n          )}\n        />\n      </ConfigProvider>\n    </>\n  );\n}\nexport default Pools;\n","import { Input } from \"antd\";\n\nconst { Search } = Input;\n\n// Masterchef input component that calls the injected onStart method with the masterchef address as parameter\nfunction MasterchefSearch(props) {\n  const { onStart } = props;\n  return (\n    <Search\n      placeholder=\"Masterchef\"\n      allowClear\n      enterButton=\"Start\"\n      size=\"large\"\n      onSearch={onStart}\n    />\n  );\n}\n\nexport default MasterchefSearch;\n","import { useEffect, useState } from \"react\";\n\nimport Web3 from \"web3\";\nimport Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n\nconst providerOptions = {\n  walletconnect: {\n    package: WalletConnectProvider,\n    options: {\n      infuraId: \"5b7ed00b5a864d5797572f8cfcc5052e\", // required, TODO: still needs to be set to our infura_id.\n    },\n  },\n};\n\nconst web3Modal = new Web3Modal({\n  cacheProvider: true, // optional\n  providerOptions, // required\n});\n\nconst useWeb3 = () => {\n  //todo: useWeb3Provider\n  const [provider, setProvider] = useState();\n  const [web3info, setWeb3Info] = useState({\n    web3: undefined,\n    chainId: undefined,\n  });\n  useEffect(() => {\n    const connect = async () => {\n      const provider_ = await web3Modal.connect();\n  \n      setProvider(provider_);\n      const web3 = new Web3(provider_);\n      const chainId = await web3.eth.net.getId();\n\n      provider_.on(\"chainChanged\", async (chainId_) => {\n        console.log(\"changed\")\n        const networkId = await web3.eth.net.getId();\n        setWeb3Info({web3: web3, chainId: networkId});\n      });\n\n      return { web3, chainId };\n    };\n    connect().then((info) => {\n      setWeb3Info(info);\n    });\n  }, [provider]);\n\n  // const disconnect = async () => {\n  //   // explicitly close when wallet connect is used\n  //   if (provider && provider.close) {\n  //     await provider.close();\n  //   }\n  //   web3Modal.clearCachedProvider();\n\n  //   setProvider(undefined);\n  //   setWeb3Info(undefined);\n  // };\n\n  return web3info;\n};\n\nexport default useWeb3;\n","import \"./App.css\";\n\nimport Pools from \"./components/Pools\";\nimport MasterchefSearch from \"./components/MasterchefSearch\";\nimport { useEffect, useState } from \"react\";\nimport AddressContext from \"./contexts/AddressContext\";\nimport { ZERO_ADDRESS } from \"./utils/addressHelper\";\nimport useWeb3 from \"./hooks/useWeb3\";\nimport Web3Context from \"./contexts/web3Context\";\n\nfunction App() {\n  const {web3, chainId} = useWeb3();\n  const [masterchefAddress, setMasterchefAddress] = useState(undefined);\n  const [userAddress, setUserAddress] = useState(ZERO_ADDRESS);\n  useEffect(() => {\n    if (\n      web3 === undefined ||\n      web3.currentProvider === undefined ||\n      web3.currentProvider.selectedAddress === undefined\n    ) {\n      return;\n    }\n\n    setUserAddress(web3.currentProvider.selectedAddress);\n  }, [web3]);\n\n  const onStart = async (masterchefAddress_) => {\n    setMasterchefAddress(masterchefAddress_);\n  };\n\n  return (\n    <Web3Context.Provider value={{web3, chainId}} >\n      <AddressContext.Provider value={{ masterchefAddress, userAddress }}>\n        <div className=\"App\">\n          <MasterchefSearch onStart={onStart} />\n          <Pools />\n        </div>\n      </AddressContext.Provider>\n    </Web3Context.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}